#include <iostream>
#include "Image_Class.h"
using namespace std;

Image blur_image(Image img)
{
    Image blur(img.width, img.height);
    int center = 9; 
    for (int i = 0; i < img.width; i++)
    {
        for (int j = 0; j < img.height; j++)
        {
            for (int k = 0; k < 3; k++) 
            {
                int sum = 0;
                int count = 0;

                for (int x = -4; x <= 4; x++)
                {
                    for (int y = -4; y <= 4; y++)
                    {
                        int total_x = i + x;
                        int total_y = j + y;

                        if (total_x >= 0 && total_x < img.width && total_y >= 0 && total_y < img.height)
                        {
                            sum += img(total_x, total_y, k);
                            count++;
                        }
                    }
                }

                blur(i, j, k) = sum / count;
            }
        }
    }
    return blur;
}
